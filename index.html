<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ACCA TX (UK) FA2024 | IHT Master Class</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <style>
        /* === å…¨å±€é‡ç½®ä¸ç§»åŠ¨ç«¯ä¼˜åŒ– === */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { 
            margin: 0; padding: 0; overflow: hidden; 
            background-color: #f4f7f6; /* ææ·¡çš„äº‘é›¾é’èƒŒæ™¯ï¼Œä¸“æ³¨é˜…è¯» */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
        }
        #main { width: 100vw; height: 100vh; z-index: 1; }

        /* === é¡¶éƒ¨æ‚¬æµ®æ  === */
        .header {
            position: fixed; top: 0; left: 0; right: 0; height: 50px;
            background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0,0,0,0.06); z-index: 100;
            display: flex; align-items: center; justify-content: space-between; padding: 0 20px;
        }
        .header h1 { font-size: 16px; font-weight: 700; color: #2c3e50; margin: 0; letter-spacing: -0.5px; }
        .header-tag { 
            background: #1abc9c; color: #fff; padding: 3px 8px; 
            border-radius: 4px; font-size: 11px; font-weight: 600; 
        }

        /* === åº•éƒ¨æ²‰æµ¸å¼é˜…è¯»å¡ç‰‡ === */
        .sheet-mask {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.3); z-index: 199; display: none;
            transition: opacity 0.3s;
        }
        .sheet-mask.active { display: block; animation: fadeIn 0.2s; }

        .sheet-container {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: #fff; z-index: 200;
            border-top-left-radius: 24px; border-top-right-radius: 24px;
            box-shadow: 0 -10px 50px rgba(0,0,0,0.15);
            transform: translateY(110%); transition: transform 0.35s cubic-bezier(0.25, 1, 0.5, 1);
            display: flex; flex-direction: column; max-height: 88vh; /* å¢åŠ é«˜åº¦ä»¥å®¹çº³æ›´å¤šå†…å®¹ */
        }
        .sheet-container.active { transform: translateY(0); }

        /* å¡ç‰‡å¤´éƒ¨ */
        .sheet-header {
            padding: 18px 24px; border-bottom: 1px solid #f0f2f5;
            display: flex; align-items: center; justify-content: space-between;
            flex-shrink: 0; background: #fff; border-radius: 24px 24px 0 0;
        }
        .sheet-title-group { display: flex; flex-direction: column; }
        .sheet-category { font-size: 11px; font-weight: 800; color: #bdc3c7; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px; }
        .sheet-title { font-size: 20px; font-weight: 800; color: #2c3e50; margin: 0; }
        .close-btn {
            width: 32px; height: 32px; background: #f1f2f6; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 22px; color: #7f8c8d; cursor: pointer;
        }

        /* å¡ç‰‡å†…å®¹åŒº - è®²ä¹‰é£æ ¼ */
        .sheet-body { 
            padding: 0 0 40px 0; overflow-y: auto; -webkit-overflow-scrolling: touch; 
            background: #fff; 
        }
        .content-wrapper { padding: 24px; }

        /* 1. æ ¸å¿ƒå®šä¹‰åŒº */
        .def-block { margin-bottom: 25px; }
        .block-title { 
            font-size: 14px; font-weight: 800; color: #34495e; margin-bottom: 12px; 
            display: flex; align-items: center; letter-spacing: 0.5px;
        }
        .block-title::before { 
            content:''; width:4px; height:16px; background:#1abc9c; 
            margin-right:10px; border-radius:2px; 
        }
        .text-std { font-size: 15px; line-height: 1.7; color: #57606f; text-align: justify; }
        .text-std strong { color: #2c3e50; font-weight: 700; }
        .text-std ul { padding-left: 20px; margin: 8px 0; }
        .text-std li { margin-bottom: 6px; }

        /* 2. è§„åˆ™å¡ç‰‡ (Rules) */
        .rule-card {
            background: #f8fbff; border: 1px solid #e1eefc; border-radius: 8px;
            padding: 15px; margin-bottom: 10px;
        }
        .rule-header { font-size: 12px; font-weight: 800; color: #3498db; margin-bottom: 6px; text-transform: uppercase; }
        .rule-body { font-size: 14px; color: #2c3e50; line-height: 1.6; font-family: "Menlo", sans-serif; }

        /* 3. ç»¼åˆæ¡ˆä¾‹åŒº (Example) */
        .exam-box {
            border: 1px solid #eee; border-radius: 12px; overflow: hidden; margin-top: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.03);
        }
        .exam-title-bar {
            background: #fff5f5; padding: 12px 16px; border-bottom: 1px solid #ffebe6;
            font-size: 13px; font-weight: 700; color: #e17055;
        }
        .exam-content { padding: 16px; font-size: 14px; line-height: 1.7; color: #2d3436; }

        /* 4. æŠ˜å è§£æåŒº */
        details { margin-top: 12px; border-top: 1px dashed #e0e0e0; }
        summary {
            padding: 12px 0; cursor: pointer; font-size: 13px; font-weight: 600; color: #2980b9;
            list-style: none; display: flex; justify-content: space-between;
        }
        summary::after { content: 'æŸ¥çœ‹è§£æ â–¼'; color: #95a5a6; font-weight: normal; }
        details[open] summary::after { content: 'æ”¶èµ· â–²'; }
        
        .proforma-box {
            background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 8px;
            font-family: "Menlo", monospace; font-size: 12px; line-height: 1.5; margin-top: 10px;
            border-left: 4px solid #f1c40f;
        }
        .note-box {
            background: #fff8e1; padding: 12px; border-radius: 6px; margin-top: 10px;
            color: #d35400; font-size: 13px; font-style: italic; border: 1px solid #ffe0b2;
        }

        @keyframes fadeIn { from {opacity:0} to {opacity:1} }
        
        /* é«˜äº®æ ‡è®° */
        .hl { background: rgba(26, 188, 156, 0.15); padding: 0 4px; border-radius: 3px; color: #16a085; font-weight: bold; }
        .hl-red { color: #e74c3c; font-weight: bold; }
    </style>
</head>
<body>

    <div class="header">
        <h1>TX (UK) Master Guide</h1>
        <span class="header-tag">FA2024</span>
    </div>

    <div id="main"></div>

    <div class="sheet-mask" id="mask" onclick="closeSheet()"></div>
    <div class="sheet-container" id="sheet">
        <div class="sheet-header">
            <div class="sheet-title-group">
                <span class="sheet-category" id="nodeCategory">MODULE</span>
                <h2 class="sheet-title" id="nodeTitle">Title</h2>
            </div>
            <div class="close-btn" onclick="closeSheet()">Ã—</div>
        </div>
        <div class="sheet-body" id="sheetContent">
            </div>
    </div>

    <script type="text/javascript">
        var chartDom = document.getElementById('main');
        var myChart = echarts.init(chartDom, null, {renderer: 'canvas'});

        // ================= é…è‰²ç³»ç»Ÿ =================
        const colors = {
            root: '#2c3e50', // æ ¸å¿ƒ
            iht: '#1abc9c',  // IHT (æœ¬æ¬¡é‡ç‚¹ - é’ç»¿è‰²)
            it: '#e74c3c',   // IT (çº¢è‰²)
            ct: '#3498db',   // CT (è“è‰²)
            cgt: '#9b59b6',  // CGT (ç´«è‰²)
            vat: '#f39c12'   // VAT (æ©™è‰²)
        };

        // ================= æ·±åº¦å†…å®¹åº“ (å®Œå…¨åŸºäºæ‚¨çš„è®²ä¹‰è¦æ±‚) =================
        const data = [
            // --- ROOT ---
            {
                id: 'root', name: 'UK TAX\nSystem', category: 'Overview', color: colors.root, size: 70,
                info: {
                    def: 'FA2024 æ ¸å¿ƒæ¦‚è§ˆ',
                    content: [
                        {type: 'text', text: 'åŒ…å«äº† Income Tax, Corporation Tax, CGT, IHT, VAT äº”å¤§ç¨ç§ã€‚<br>æœ¬å›¾è°±é‡ç‚¹å¼ºåŒ– <b>IHT (é—äº§ç¨)</b> æ¨¡å—ï¼ŒæŒ‰ç…§ç”Ÿå‰åˆ°æ­»åçš„æ—¶é—´è½´é€»è¾‘å±•å¼€ã€‚'}
                    ]
                }
            },

            // ================= IHT é—äº§ç¨ (é‡å¤´æˆ) =================
            {
                id: 'iht_basic', name: 'IHT Basics\næ ¸å¿ƒæ¦‚å¿µ', category: 'IHT', color: colors.iht, size: 55,
                info: {
                    def: 'ä»·å€¼è½¬ç§» (Transfer of Value)',
                    content: [
                        {type: 'text', text: '<b>å®šä¹‰:</b> æèµ å¯¼è‡´æèµ è€…è´¢å¯Œå‡å°‘çš„é‡‘é¢ (Diminution in value)ã€‚<br><b>çº³ç¨äºº:</b><br>â€¢ UK Domiciled: å…¨çƒèµ„äº§å¾ç¨ã€‚<br>â€¢ Non-UK Domiciled: ä»…è‹±å›½èµ„äº§å¾ç¨ã€‚'},
                        {type: 'rule', title: 'CRITICAL RATES (FA24)', text: '<b>NRB (é›¶ç¨ç‡å¸¦):</b> Â£325,000<br><b>RNRB (å±…ä½é›¶ç¨ç‡å¸¦):</b> Â£175,000<br><b>Lifetime Rate:</b> 20% (Trusteeä»˜) / 25% (Donorä»˜)<br><b>Death Rate:</b> 40%'}
                    ]
                }
            },
            {
                id: 'iht_life', name: 'Lifetime\nç”Ÿå‰è½¬ç§»', category: 'IHT', color: colors.iht, size: 50,
                info: {
                    def: 'ç”Ÿå‰ç¤¼ç‰©çš„ä¸‰ç±»å¤„ç†æ–¹å¼',
                    content: [
                        {type: 'rule', title: 'A. è±å…è½¬ç§» (Exempt)', text: '1. <b>Spouse:</b> é…å¶é—´æ°¸è¿œè±å…ã€‚<br>2. <b>AE (å¹´å…):</b> Â£3,000/å¹´ (FIFO, å¯ç»“è½¬1å¹´)ã€‚<br>3. <b>Small Gifts:</b> Â£250/äººã€‚<br>4. <b>Marriage:</b> çˆ¶æ¯Â£5k, ç¥–çˆ¶æ¯Â£2.5k, å…¶ä»–Â£1kã€‚<br>5. <b>Normal Expenditure:</b> ç»å¸¸æ€§æ”¯å‡ºã€‚'},
                        {type: 'rule', title: 'B. PET (ç»™ä¸ªäºº)', text: '<b>Potentially Exempt Transfer:</b><br>â€¢ ç”Ÿå‰æš‚ä¸äº¤ç¨ã€‚<br>â€¢ æ´»è¿‡7å¹´ -> å½»åº•è±å…ã€‚<br>â€¢ 7å¹´å†…æ­» -> è¡¥äº¤ Death Taxã€‚'},
                        {type: 'rule', title: 'C. CLT (ç»™ä¿¡æ‰˜)', text: '<b>Chargeable Lifetime Transfer:</b><br>â€¢ ç«‹å³äº¤ç¨: (Value - Exempt - NRB) Ã— 20%ã€‚<br>â€¢ 7å¹´å†…æ­» -> é‡ç®— Death Taxã€‚'}
                    ],
                    q: {
                        title: 'Lifetime Tax Calculation (CLT Only)',
                        scen: '2023å¹´5æœˆï¼ŒA å‘ä¿¡æ‰˜è½¬å…¥ Â£400,000 (CLT)ã€‚A æ‰¿æ‹…ç¨æ¬¾ã€‚æ­¤å‰æ— èµ ä¸ã€‚',
                        ans: `1. Chargeable Value: Â£400,000
2. Less AE (23/24 & 22/23): (Â£6,000)
   = Â£394,000
3. Less NRB: (Â£325,000)
   = Taxable Â£69,000
4. Tax @ 25% (Donor pays): 
   Â£69,000 Ã— 25% = <b>Â£17,250</b>`
                    }
                }
            },
            {
                id: 'iht_death_gift', name: 'Death Tax\non Gifts', category: 'IHT', color: colors.iht, size: 50,
                info: {
                    def: '7å¹´å†…æ­»äº¡çš„è¿½æº¯ç¨ (Additional Tax)',
                    content: [
                        {type: 'text', text: 'å½“æèµ äººåœ¨é€ç¤¼å 7 å¹´å†…æ­»äº¡ï¼Œä¹‹å‰çš„ PET å’Œ CLT éœ€è¦é‡ç®—ã€‚'},
                        {type: 'rule', title: 'CALCULATION LOGIC', text: '1. æ‰¾å‡ºæ­»å‰7å¹´å†…æ‰€æœ‰ PET/CLTã€‚<br>2. <b>NRB æ‰£é™¤:</b> ä½¿ç”¨æ­»äº¡æ—¶çš„ Â£325kï¼Œå‡å»è¯¥ç¤¼ç‰©ä¹‹å‰ 7 å¹´ç´¯ç§¯çš„ GCTã€‚<br>3. <b>Tax:</b> å‰©ä½™éƒ¨åˆ† Ã— 40%ã€‚<br>4. <b>Taper Relief:</b> 3-4å¹´(8æŠ˜), 4-5å¹´(6æŠ˜), 5-6å¹´(4æŠ˜), 6-7å¹´(2æŠ˜)ã€‚<br>5. <b>Credit:</b> å‡å» CLT å·²äº¤çš„ç”Ÿå‰ç¨ã€‚'}
                    ],
                    q: {
                        title: 'Comprehensive Death Tax',
                        scen: 'A åœ¨2020å¹´åšäº† CLT (GCT Â£200k)ã€‚2024å¹´å»ä¸– (4å¹´å†…)ã€‚<br>è®¡ç®—è¯¥ CLT çš„ Death Taxã€‚',
                        ans: `<b>Step 1: Gross Chargeable Value</b>
Value = Â£200,000 (as calculated at lifetime)

<b>Step 2: Available NRB</b>
NRB at death = Â£325,000
Less: Gifts 7 years before this gift = 0
Available = Â£325,000
(Â£200k fully covered by NRB)

<b>Step 3: Tax</b>
Taxable = 0. Death Tax = <b>Â£0</b>.
(æ³¨ï¼šå¦‚æœ Value è¶…è¿‡ 325kï¼Œåˆ™è¶…é¢éƒ¨åˆ† x 40%ï¼Œå† x 60% Taper)`
                    }
                }
            },
            {
                id: 'iht_estate', name: 'Death\nEstate', category: 'IHT', color: colors.iht, size: 50,
                info: {
                    def: 'æ­»äº¡é—äº§ç¨ (Tax on Death Estate)',
                    content: [
                        {type: 'text', text: 'å¯¹æ­»è€…å»ä¸–æ—¶æ‹¥æœ‰çš„æ‰€æœ‰èµ„äº§å¾ç¨ã€‚èµ„äº§æŒ‰å¸‚ä»· (Probate Value) è®¡ç®—ã€‚'},
                        {type: 'rule', title: 'A. RNRB (å±…ä½é›¶ç¨ç‡å¸¦)', text: '<b>é‡‘é¢:</b> Â£175,000ã€‚<br><b>æ¡ä»¶:</b> åŒ…å«ä¸»å±…æ‰€ (Main Residence) ä¸”ç•™ç»™ç›´ç³»åä»£ (Direct Descendants)ã€‚<br><b>é™åˆ¶:</b> æˆ¿äº§å‡€å€¼ < Â£175k æ—¶ä»¥å‡€å€¼ä¸ºå‡†ã€‚'},
                        {type: 'rule', title: 'B. Transferable NRB', text: 'é…å¶å…ˆå»ä¸–æœªç”¨å®Œçš„ NRB/RNRB ç™¾åˆ†æ¯”ï¼Œå¯ä»¥è½¬ç§»ç»™åå»ä¸–çš„é…å¶ã€‚'}
                    ]
                }
            },
            {
                id: 'iht_proforma', name: 'Proformas\nè®¡ç®—æ¨¡æ¿', category: 'IHT', color: '#16a085', size: 60,
                info: {
                    def: 'ä¸‰å¤§æ ¸å¿ƒè®¡ç®—æ¨¡æ¿ (å¿…èƒŒ)',
                    content: [
                        {type: 'proforma', title: 'STEP 1: Lifetime Tax (CLT)', text: `Transfer of Value
(Less: Exemptions - AE, Marriage)
= Chargeable Transfer
(Less: Available NRB - look back 7 years)
= Taxable Amount x 20% (Trustee) or 25% (Donor)`},
                        {type: 'proforma', title: 'STEP 2: Death Tax on Gifts', text: `Gross Chargeable Value (Value at date of gift)
(Less: NRB at death - look back 7 yrs from gift)
= Taxable Amount x 40%
(Less: Taper Relief - 20/40/60/80%)
(Less: Lifetime tax paid - CLT only)
= Additional Tax Payable`},
                        {type: 'proforma', title: 'STEP 3: Death Estate', text: `Total Assets (Probate Value)
(Less: Debts & Funeral)
(Less: Exempt Legacies to Spouse)
= Chargeable Estate
(Less: RNRB - max Â£175k)
(Less: Remaining NRB - Â£325k less gifts in last 7 yrs)
= Taxable Estate x 40%`}
                    ]
                }
            },

            // ================= å…¶ä»–ç¨ç§ (ä¿æŒç²¾ç®€ä½†é«˜è´¨) =================
            {
                id: 'it_main', name: 'Income Tax\nä¸ªç¨', category: 'IT', color: colors.it, size: 45,
                info: {
                    def: 'NS/Sav/Div å¾ç¨é¡ºåº',
                    content: [
                        {type: 'rule', title: 'FA24 Updates', text: 'PA Â£12,570 (ANI>100k é€’å‡)ã€‚<br>Div 0% band é™ä¸º Â£500ã€‚'}
                    ]
                }
            },
            {
                id: 'nic', name: 'NIC\nç¤¾ä¿', category: 'IT', color: colors.it, size: 40,
                info: {
                    def: 'FA24 æ–°è´¹ç‡',
                    content: [
                        {type: 'rule', title: 'Rates', text: 'Class 1 Emp: <span class="hl-red">8%</span><br>Class 4 Self: <span class="hl-red">6%</span>'}
                    ]
                }
            },
            {
                id: 'ct_main', name: 'Corp Tax\nå…¬å¸ç¨', category: 'CT', color: colors.ct, size: 45,
                info: {
                    def: 'TTP & Marginal Relief',
                    content: [
                        {type: 'rule', title: 'Rates', text: '19% (Â£0-50k) -> Marginal -> 25% (Â£250k+)'},
                        {type: 'rule', title: 'Full Expensing', text: 'å…¨æ–°ä¸»æ± èµ„äº§ 100% FYAã€‚'}
                    ]
                }
            },
            {
                id: 'cgt_main', name: 'CGT\nåˆ©å¾—ç¨', category: 'CGT', color: colors.cgt, size: 45,
                info: {
                    def: 'ä¸ªäººèµ„äº§å¤„ç½®',
                    content: [
                        {type: 'rule', title: 'Rates', text: 'AEA: Â£3,000ã€‚<br>Resi: 18%/24% (FA24æ–°è§„)ã€‚<br>Other: 10%/20%ã€‚'}
                    ]
                }
            },
            {
                id: 'vat_main', name: 'VAT\nå¢å€¼ç¨', category: 'VAT', color: colors.vat, size: 45,
                info: {
                    def: 'æ³¨å†Œä¸è®¡ç®—',
                    content: [
                        {type: 'rule', title: 'Thresholds', text: 'Reg: Â£90,000ã€‚<br>Dereg: Â£88,000ã€‚'}
                    ]
                }
            }
        ];

        // è¿çº¿å…³ç³» (IHT ä¸ºæ ¸å¿ƒ)
        const links = [
            { source: 'root', target: 'iht_basic' },
            { source: 'iht_basic', target: 'iht_life' },
            { source: 'iht_life', target: 'iht_death_gift' },
            { source: 'iht_death_gift', target: 'iht_estate' },
            { source: 'iht_estate', target: 'iht_proforma' },
            
            { source: 'root', target: 'it_main' }, { source: 'it_main', target: 'nic' },
            { source: 'root', target: 'ct_main' },
            { source: 'root', target: 'cgt_main' },
            { source: 'root', target: 'vat_main' }
        ];

        // ECharts é…ç½®
        const option = {
            backgroundColor: 'transparent',
            series: [{
                type: 'graph',
                layout: 'force',
                data: data,
                links: links,
                roam: true,
                zoom: 0.8,
                label: {
                    show: true,
                    position: 'bottom',
                    color: '#555',
                    fontSize: 11,
                    fontWeight: 'bold',
                    formatter: '{b}'
                },
                itemStyle: {
                    borderColor: '#fff',
                    borderWidth: 2,
                    shadowBlur: 10,
                    shadowColor: 'rgba(0,0,0,0.1)'
                },
                lineStyle: {
                    color: '#bdc3c7',
                    curveness: 0.2,
                    width: 1.5
                },
                force: {
                    repulsion: 400,
                    edgeLength: 100,
                    gravity: 0.06
                }
            }]
        };

        myChart.setOption(option);
        window.addEventListener('resize', function() { myChart.resize(); });

        // ================= äº¤äº’é€»è¾‘ =================
        const mask = document.getElementById('mask');
        const sheet = document.getElementById('sheet');
        const sheetContent = document.getElementById('sheetContent');
        const sheetTitle = document.getElementById('nodeTitle');
        const sheetTag = document.getElementById('nodeCategory');

        myChart.on('click', function(params) {
            if (params.data.info) {
                openSheet(params.data);
            }
        });

        function openSheet(node) {
            const info = node.info;
            
            // 1. è®¾ç½®å¤´éƒ¨
            sheetTitle.innerText = node.name.replace('\n', ' ');
            sheetTitle.style.color = node.color;
            sheetTag.innerText = node.category;
            sheetTag.style.backgroundColor = node.color;

            // 2. ç”Ÿæˆå†…å®¹
            let html = `<div class="content-wrapper">`;
            
            // A. æ ¸å¿ƒå®šä¹‰
            html += `<div class="def-block">
                        <div class="block-title" style="color:${node.color}">CORE KNOWLEDGE</div>
                        <div class="text-std">${info.def}</div>
                     </div>`;

            // B. å†…å®¹åˆ—è¡¨ (Text / Rules / Proforma)
            if (info.content) {
                info.content.forEach(item => {
                    if (item.type === 'text') {
                        html += `<div class="text-std" style="margin-bottom:15px;">${item.text}</div>`;
                    } else if (item.type === 'rule') {
                        html += `<div class="rule-card">
                                    <div class="rule-header" style="color:${node.color}">${item.title}</div>
                                    <div class="rule-body">${item.text}</div>
                                 </div>`;
                    } else if (item.type === 'proforma') {
                        html += `<div style="margin-bottom:20px;">
                                    <div style="font-weight:bold; color:#2c3e50; margin-bottom:5px;">${item.title}</div>
                                    <div class="proforma-box">${item.text.replace(/\n/g, '<br>')}</div>
                                 </div>`;
                    }
                });
            }

            // C. ç»¼åˆé¢˜ (å¸¦æŠ˜å )
            if (info.q) {
                html += `<div class="exam-box">
                            <div class="exam-title-bar">ğŸ“ EXAMPLE: ${info.q.title}</div>
                            <div class="exam-content">
                                ${info.q.scen}
                                <details>
                                    <summary></summary>
                                    <div class="solution-area">${info.q.ans}</div>
                                    <div class="note-box">âš ï¸ ${info.q.note || 'Watch out for the 7-year rule!'}</div>
                                </details>
                            </div>
                         </div>`;
            }

            html += `</div>`;
            sheetContent.innerHTML = html;
            
            // 3. æ˜¾ç¤º
            mask.classList.add('active');
            sheet.classList.add('active');
        }

        function closeSheet() {
            mask.classList.remove('active');
            sheet.classList.remove('active');
        }
    </script>
</body>
</html>
